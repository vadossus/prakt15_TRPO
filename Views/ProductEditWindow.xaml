<Window x:Class="prakt15_TRPO.Views.ProductEditWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="Редактирование товара" Height="768" Width="474" 
        WindowStartupLocation="CenterOwner" Background="{DynamicResource MaterialDesignPaper}">
    <Grid Margin="20">
        <StackPanel>
            <TextBlock Text="ДАННЫЕ ТОВАРА" FontSize="18" FontWeight="Bold" Margin="0,0,0,15"/>

            <TextBox materialDesign:HintAssist.Hint="Название товара" 
                     Text="{Binding Name, UpdateSourceTrigger=PropertyChanged}" 
                     Style="{StaticResource MaterialDesignFloatingHintTextBox}" Margin="0,5"/>

            <TextBox materialDesign:HintAssist.Hint="Описание" 
                     Text="{Binding Description}" 
                     TextWrapping="Wrap" AcceptsReturn="True" Height="80"
                     Style="{StaticResource MaterialDesignOutlinedTextBox}" Margin="0,10"/>

            <UniformGrid Columns="2">
                <TextBox materialDesign:HintAssist.Hint="Цена" 
                         Text="{Binding Price, StringFormat={}{0:N2}}" 
                         Style="{StaticResource MaterialDesignFloatingHintTextBox}" Margin="0,5,10,5"/>
                <TextBox materialDesign:HintAssist.Hint="Остаток на складе" 
                         Text="{Binding Stock}" 
                         Style="{StaticResource MaterialDesignFloatingHintTextBox}" Margin="10,5,0,5"/>
            </UniformGrid>

            <ComboBox x:Name="CategoryCombo" 
                      materialDesign:HintAssist.Hint="Категория"
                      ItemsSource="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=Categories}"
                      DisplayMemberPath="Name" SelectedValuePath="Id"
                      SelectedValue="{Binding CategoryId}"
                      Style="{StaticResource MaterialDesignFloatingHintComboBox}" Margin="0,10"/>

            <ComboBox x:Name="BrandCombo" 
                      materialDesign:HintAssist.Hint="Бренд"
                      ItemsSource="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=Brands}"
                      DisplayMemberPath="Name" SelectedValuePath="Id"
                      SelectedValue="{Binding BrandId}"
                      Style="{StaticResource MaterialDesignFloatingHintComboBox}" Margin="0,10"/>

            <GroupBox Header="Фото товара" Margin="0,10">
                <StackPanel>
                    <Image x:Name="ImgPreview" Source="{Binding FullImagePath}" Height="150" Margin="0,0,0,10"/>
                    <Button Content="ВЫБРАТЬ ИЗОБРАЖЕНИЕ" Click="SelectImage_Click" Style="{StaticResource MaterialDesignPaperButton}"/>
                </StackPanel>
            </GroupBox>

            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
                <Button Content="ОТМЕНА" IsCancel="True" Style="{StaticResource MaterialDesignFlatButton}" Margin="0,0,10,0"/>
                <Button Content="СОХРАНИТЬ" Click="Save_Click" Style="{StaticResource MaterialDesignRaisedButton}"/>
            </StackPanel>
        </StackPanel>
    </Grid>
</Window>